language: go
go:
  - 1.10
install:
  - sudo add-apt-repository ppa:masterminds/glide
  - sudo apt-get update
  - sudo apt-get install -y glide
  - (cd src/github.com/ronelliott/go-events && glade install)
  - go get github.com/mattn/goveralls
script:
  - go test -covermode=count -coverprofile=coverage.out -v github.com/ronelliott/go-events
after_success:
  - goveralls -service travis-ci -covermode=count -coverprofile=coverage.out -repotoken=$COVERALLS_REPO_TOKEN
